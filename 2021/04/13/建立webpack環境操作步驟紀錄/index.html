<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/owlBig.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/owl.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"landy510.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="在上一篇簡介文章是介紹了我們為什要用webpack來管理我們的專案檔。首先，我先附上以下練習完成後的專案檔連結接下來，以下的操作步驟，就是將一個專案從無到有創建出來，並用webpack來管理的過程 webpack專案創建操作步驟step1.首先，我們先在專案檔裡面新增一個src資料夾，並在裡面新增兩個js檔案，分別為main.js和helper.js。那main.js檔案，就是做為webpack的">
<meta property="og:type" content="article">
<meta property="og:title" content="建立webpack環境操作步驟紀錄">
<meta property="og:url" content="https://landy510.github.io/2021/04/13/%E5%BB%BA%E7%AB%8Bwebpack%E7%92%B0%E5%A2%83%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%A9%9F%E7%B4%80%E9%8C%84/index.html">
<meta property="og:site_name" content="Landy Blog">
<meta property="og:description" content="在上一篇簡介文章是介紹了我們為什要用webpack來管理我們的專案檔。首先，我先附上以下練習完成後的專案檔連結接下來，以下的操作步驟，就是將一個專案從無到有創建出來，並用webpack來管理的過程 webpack專案創建操作步驟step1.首先，我們先在專案檔裡面新增一個src資料夾，並在裡面新增兩個js檔案，分別為main.js和helper.js。那main.js檔案，就是做為webpack的">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2021-04-13T03:38:36.000Z">
<meta property="article:modified_time" content="2021-04-13T03:52:40.218Z">
<meta property="article:author" content="Landy">
<meta property="article:tag" content="專案部屬工具">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://landy510.github.io/2021/04/13/%E5%BB%BA%E7%AB%8Bwebpack%E7%92%B0%E5%A2%83%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%A9%9F%E7%B4%80%E9%8C%84/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>建立webpack環境操作步驟紀錄 | Landy Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1T19DR0SEG"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1T19DR0SEG');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Landy Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://landy510.github.io/2021/04/13/%E5%BB%BA%E7%AB%8Bwebpack%E7%92%B0%E5%A2%83%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%A9%9F%E7%B4%80%E9%8C%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Landy">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Landy Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          建立webpack環境操作步驟紀錄
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-04-13 11:38:36 / 修改時間：11:52:40" itemprop="dateCreated datePublished" datetime="2021-04-13T11:38:36+08:00">2021-04-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%88%E6%A1%88%E9%83%A8%E5%B1%AC%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">專案部屬工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>在<a href="/2021/04/13/%E8%AA%8D%E8%AD%98webpack/" title="上一篇簡介文章">上一篇簡介文章</a>是介紹了我們為什要用webpack來管理我們的專案檔。<br>首先，我先附上以下練習完成後的<a target="_blank" rel="noopener" href="https://github.com/Landy510/webpack_practice">專案檔連結</a><br><strong>接下來，以下的操作步驟，就是將一個專案從無到有創建出來，並用webpack來管理的過程</strong></p>
<h1 id="webpack專案創建操作步驟"><a href="#webpack專案創建操作步驟" class="headerlink" title="webpack專案創建操作步驟"></a>webpack專案創建操作步驟</h1><p>step1.<br>首先，我們先在專案檔裡面新增一個src資料夾，並在裡面新增兩個js檔案，分別為main.js和helper.js。<br>那main.js檔案，就是做為webpack的進入點檔案用。<br>那helper.js檔案，就是我們自己主要撰寫js的部分。<br>所以，我們先在helper.js檔案中加入我們想要撰寫的js內容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---helper.js---</span><br><span class="line">export default &#123;</span><br><span class="line">  fn () &#123;</span><br><span class="line">    console.log(&#39;這是一支程式碼&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接著，我們在main.js中注入這個helper.js檔案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---main.js---</span><br><span class="line">import helpers from &#39;.&#x2F;helper&#39;</span><br><span class="line">helpers.fn()  &#x2F;&#x2F; 可以直接調用helper.js檔案裡面的函式囉~</span><br></pre></td></tr></table></figure>
<p><font color=#FF0000>webpack可以用ES6的語法</font><br>在webpack可以用ES6來撰寫，故可以用<code>import</code>, <code>export</code>。<br>因此，我們就可以在某些js檔案，利用<code>export default&#123;&#125;</code>，將這些js檔案的內容輸出出來，且一支js檔案只會有一個<code>export default&#123;&#125;</code>，而<code>export default&#123;&#125;</code>會以物件的型式匯出來。</p>
<p>step2.<br>但是，因為在step1的階段，我們還沒有安裝webpack，所以，以step1那樣撰寫式不會有任何webpack的作用喔。<br>那接下來就來安裝webpack到專案檔中。<br>首先，因為，我們都是使用nodeJS。<br>那使用nodeJS的話，都會在你的專案檔中，產生一個叫做package.json的檔案。<br>那這個檔案是用來儲存你這個專案檔中會使用到的nodeJS的套件。<br>所以，輸入<code>npm init</code>指令，就會直接產生一個還沒有任何紀錄任何相依套件的package.json檔案了。</p>
<p>step3.<br>輸入<code>npm install</code> ，安裝node_modules。</p>
<p>step4.<br>接著，輸入<code>npm install webpack webpack-cli --save</code>，使用這個指令來安裝webpack和webpack-cli套件。<br>那要特別說明<code>--save</code>這個指令，會將你安裝的套件儲存到你在step2產生的package.json檔案裡面。<br>這個好處是，將專案檔上傳網站時(像github)，可以不用上傳 node_modules，本地端電腦只要執行 <code>npm install</code> 就會依照 package.json 裡面所記載的套件版本去安裝套件，安裝完後，就可以順利執行你的專案檔內容囉~</p>
<a id="more"></a>
<h2 id="–save-dev"><a href="#–save-dev" class="headerlink" title="–save-dev"></a>–save-dev</h2><p>你會在有些安裝套件的安裝指令上看到<code>--save-dev</code>，那這個<code>-dev</code>的意思是developement參數，但是，因為課程裡面只教怎麼安裝webpack整個環境，<br>所以，都將<code>--save-dev</code>後面的<code>-dev</code>給去掉了，因為，不是本課程專注的地方。</p>
<p>接著，直接在專案檔中新增一個webpack.config.js檔案。<br>並在此檔案中，貼上<a target="_blank" rel="noopener" href="https://www.webpackjs.com/concepts/#%E5%87%BA%E5%8F%A3-output-">說明文件</a> 中，有關出口的內容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;); &#x2F;&#x2F; nodejs指向實體路徑的位置</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  entry: &#39;.&#x2F;path&#x2F;to&#x2F;my&#x2F;entry&#x2F;file.js&#39;,  &#x2F;&#x2F; 指向專案檔裡面注入點的main.js檔案</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &#39;dist&#39;),  &#x2F;&#x2F; 這個注入點檔案輸出的位置，所以，當我們執行webpack時，這個注入點檔案，會被輸出到dist資料夾中，而且它的檔名會叫做main.bundle.js</span><br><span class="line">    filename: &#39;main.bundle.js&#39;          &#x2F;&#x2F; 注入點輸出的檔名，你可以隨便命名</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>step5.<br>接著，我們為了要讓package.json可以直接執行webpack，所以，我們要對package.json調整一下。<br>到package.json檔案中，<br>有一個”scripts”的部分，那這個部分是用來定義你的npm指令的功能。<br>所以，我們在”scripts”的部分定義一個指令build</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---package.json檔案---</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>step6.<br>接著，輸入<code>npm run build</code>指令，就可以直接執行webpack的功能。<br>接著，你就會看到專案檔中會產生出一個dist的資料夾，並且裡面有一個main.bundle.js檔案，main.js檔案經過webpack編譯，產生出的檔案囉。</p>
<h2 id="在src資料夾產出index-html"><a href="#在src資料夾產出index-html" class="headerlink" title="在src資料夾產出index.html"></a>在src資料夾產出index.html</h2><p>step7.<br>首先，我們自己手動新增一個index.html檔案，在src檔案。<br>那你不需要在這個index.html檔案中，自己手動引入會用到的scss或js檔案，因為，當你執行webpack編譯指令之後，它會自己幫你加進去，如果，你在這邊野家的話，會導致最後連需引入相同的檔案兩次喔。</p>
<p>step8.<br>安裝 html-webpack-plugin，這個plugin，會將現有的html檔案產生到dist資料夾中。<br>首先，輸入指令<code>npm install --save html-webpack-plugin</code>來安裝這個plugin。<br>接著，到webpack.confin.js做設定</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---webpack.confin.js---</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line">var HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)  &#x2F;&#x2F; 引入HtmlWebpackPlugin</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  entry: [&#39;.&#x2F;src&#x2F;index&#39;],</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.join(__dirname, &#39;dist&#39;),</span><br><span class="line">    filename: &#39;bundle.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: &#39;.&#x2F;src&#x2F;index.html&#39;   &#x2F;&#x2F; 我們希望HtmlWebpackPlugin編譯的html檔案路徑</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>step9.<br>你要安裝html loader，不然，webpack也不認識html這類型的檔案。<br>所以，先輸入指令<code>npm install --save html-loader</code>，安裝html loader。<br>接著，去webpack.confin.js檔案中，加入html-loader編譯的內容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---webpack.confin.js---</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.html$&#x2F;i,</span><br><span class="line">        loader: &#39;html-loader&#39;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>step10.<br>接著，你輸入npm run build，來執行webpack編譯，成功的話你應該可以看到妳的dist資料夾中，會產生一個index.html檔案。</p>
<h2 id="新增css-loader的部分"><a href="#新增css-loader的部分" class="headerlink" title="新增css loader的部分"></a>新增css loader的部分</h2><p>step11.<br>因為，js檔案本身webpack認識它，所以，不需要為js檔案額外引入其他的套件。<br>但是，像css, png, scss, jpg這類的檔案，webpack本身是不認識他們的，更根本的說，是nodeJS不認得這些類型的檔案，<br>所以，我們要為這些類型的檔案安裝loader，來封裝這些檔案，讓webpack可以認識它們，並利用webpack來對它們進行處理。<br>首先，以css為例<br>輸入指令<code>npm install --save css-loader</code> ，將css-loader安裝進來。<br>輸入指令<code>npm install --save style-loader</code> ，將style-loader安裝進來。<br>安裝完畢之後，在<a target="_blank" rel="noopener" href="https://github.com/webpack-contrib/css-loader#getting-started">官網說明文件</a> ，有說明loader要在webpack.config.js檔案裡面加入那些內容，來引入這些loader檔案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const config &#x3D; &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#39;my-first-webpack.bundle.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [  &#x2F;&#x2F; 代表模組的規則</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.css$&#x2F;i,  &#x2F;&#x2F; 代表檔案的副檔名</span><br><span class="line">        use: [&quot;style-loader&quot;, &quot;css-loader&quot;],  &#x2F;&#x2F; 代表此類型的檔案，要用那些loader來解譯它們</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>step12.<br>接下來，我們新增一個css檔案，來試試看是否剛剛在webpack.config.js引入的內容是否成功。<br>首先，我們新增一個all.css檔案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---all.css--</span><br><span class="line">body &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二，在main.js檔案中引入這個all.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---main.js---</span><br><span class="line">import helpers from &#39;.&#x2F;helper&#39;</span><br><span class="line">import &#39;.&#x2F;all.css&#39;   &#x2F;&#x2F; 引入all.css</span><br><span class="line"></span><br><span class="line">helpers.fn()</span><br></pre></td></tr></table></figure>
<p>第三，<br>輸入npm run build，來重新編譯我們剛剛新增的內容，如此，應該就可以看到你的網頁背景色被改成紅色囉，那就代表成功了。</p>
<p>step13.<br>我們想要webpack也可以編譯scss檔案，所以，我們要安裝scss loader<br>你就直接去<a target="_blank" rel="noopener" href="https://github.com/webpack-contrib/sass-loader#getting-started">scss loader官網</a> ，找到安裝的相關指令。<br>接著輸入指令<code>npm install sass-loader sass webpack --save</code><br>接著，在webpack.config.js檔案中的modules，加入scss loader的內容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;);</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  entry: &#39;.&#x2F;src&#x2F;main.js&#39;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &#39;dist&#39;),</span><br><span class="line">    filename: &#39;main.bundle.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.css$&#x2F;i,</span><br><span class="line">        use: [&quot;style-loader&quot;, &quot;css-loader&quot;],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.s[ac]ss$&#x2F;i,</span><br><span class="line">        use: [</span><br><span class="line">          &#x2F;&#x2F; Creates &#96;style&#96; nodes from JS strings</span><br><span class="line">          &quot;style-loader&quot;,</span><br><span class="line">          &#x2F;&#x2F; Translates CSS into CommonJS</span><br><span class="line">          &quot;css-loader&quot;,</span><br><span class="line">          &#x2F;&#x2F; Compiles Sass to CSS</span><br><span class="line">          &quot;sass-loader&quot;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>接著，新增一個scss檔案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---all.scss---</span><br><span class="line">$primary: blue;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">  background-color: $primary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第三，在main.js檔案中，注入這個all.scss檔案。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import helpers from &#39;.&#x2F;helper&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;.&#x2F;all.css&#39;  &#x2F;&#x2F; 把原本引入all.css內容槓掉</span><br><span class="line">import &quot;.&#x2F;all.scss&quot;;</span><br><span class="line">helpers.fn()</span><br></pre></td></tr></table></figure>
<p>第四，輸入指令npm run build，如此，應該就可以看到網頁有吃到你在all.scss檔案中修改的css樣式囉。</p>
<h2 id="小總結"><a href="#小總結" class="headerlink" title="小總結"></a>小總結</h2><p>step14.<br>經過以上的步驟，就是webpack引入套件並加入到注入檔案的方法了。<br>所以，往後如果你有需要再加入其他的框架像是jade這種，你就去往上搜尋jade loader。<br>接著，再webpack.config.js檔案中加入這個loader套件的相關內容，接著，再將相關類型的檔案注入到main.js檔案中，就可以在你的專案檔裡面使用囉。</p>
<p><strong>———————–我是分隔線———————</strong></p>
<h2 id="HMR-gt-webpack-dev-server"><a href="#HMR-gt-webpack-dev-server" class="headerlink" title="HMR -&gt; webpack-dev-server"></a>HMR -&gt; webpack-dev-server</h2><p>接下來，紀錄一下webpack的webserver功能。<br>那webpack的webserver功能是用在當你修改完專案檔中的任一內容後，會直接同步將你修改的內容呈現在網頁上囉。<br>那在<a target="_blank" rel="noopener" href="https://webpack.js.org/guides/development/#using-webpack-dev-server">官方說明文件</a> 中，有說明怎麼安裝它。<br>首先，輸入指令<code>npm install --save webpack-dev-server</code><br>第二，將相關的內容加入到webpack.config.js的modules裡面，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">---webpack.config.js---</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  entry: &#39;.&#x2F;src&#x2F;main.js&#39;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &#39;dist&#39;),</span><br><span class="line">    filename: &#39;main.bundle.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;  &#x2F;&#x2F; 加入devServer 套件</span><br><span class="line">    contentBase: path.join(__dirname, &#39;dist&#39;),</span><br><span class="line">    compress: true,</span><br><span class="line">    port: 9000,</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.css$&#x2F;i,</span><br><span class="line">        use: [&quot;style-loader&quot;, &quot;css-loader&quot;],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.s[ac]ss$&#x2F;i,</span><br><span class="line">        use: [</span><br><span class="line">          &#x2F;&#x2F; Creates &#96;style&#96; nodes from JS strings</span><br><span class="line">          &quot;style-loader&quot;,</span><br><span class="line">          &#x2F;&#x2F; Translates CSS into CommonJS</span><br><span class="line">          &quot;css-loader&quot;,</span><br><span class="line">          &#x2F;&#x2F; Compiles Sass to CSS</span><br><span class="line">          &quot;sass-loader&quot;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      </span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>第三，<br>我們要到package.json檔案中加入執行webpack dev server的相關功能指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">  &quot;start&quot;: &quot;webpack server --open&quot;,  &#x2F;&#x2F; 加入dev server的執行指令</span><br><span class="line">  &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>接著，輸入<code>npm run start</code>指令，就可以直接開啟你的專案檔網頁。<br>並且，你直接修改專案檔內的任一內容，就可以直接呈現在你的網頁上囉。</p>
<p>那要特別注意的是，dev server功能是不會產出一個正式的檔案的，即當你輸入npm run strat執行dev server的功能，是不會產生main.bundle.js檔案，<br>你得要額外自己輸入npm build即執行webpack的編譯功能，才會產出main.bundle.js檔案，由此看出來，這兩個指令是不會互相干擾的喔。</p>
<h2 id="使用webpack-dev-server的小插曲-Cant-find-module錯誤"><a href="#使用webpack-dev-server的小插曲-Cant-find-module錯誤" class="headerlink" title="使用webpack dev-server的小插曲 - Cant find module錯誤"></a>使用webpack dev-server的小插曲 - Cant find module錯誤</h2><p>我在使用webpack dev-server的時候，按照課堂上教的步驟安裝，並撰寫package.json裡面的start指令，<br>原本課堂上的start指令是 “start” : “webpack-dev-serve –open” ，<br>但是，我輸入<code>npm run start</code>，會跳出<font color=#FF0000>Cannot find module ‘webpack-cli/bin/config-yargs’</font> 的錯誤。<br>那我找了github上面有關dev-server的issue，那我在<a target="_blank" rel="noopener" href="https://github.com/webpack/webpack-cli/issues/1948">這一則</a> 的最後面，一位ID是Elmar101所提供的解法，<br>把start指令是 <code>&quot;start&quot; : &quot;webpack-dev-serve --open&quot;</code> 改成 <code>&quot;start&quot; : &quot;webpack serve --open&quot;</code> 之後，<br>再輸入npm run start，就可以順利執行webpack dev-server的功能了，感動~~~<br>我在這個專案檔中的package.json內容為以下，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">---package.json---</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;project&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;webpack serve --open&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;css-loader&quot;: &quot;^5.2.1&quot;,</span><br><span class="line">    &quot;sass&quot;: &quot;^1.32.8&quot;,</span><br><span class="line">    &quot;sass-loader&quot;: &quot;^11.0.1&quot;,</span><br><span class="line">    &quot;style-loader&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;webpack&quot;: &quot;^5.31.2&quot;,</span><br><span class="line">    &quot;webpack-cli&quot;: &quot;^4.6.0&quot;,</span><br><span class="line">    &quot;webpack-dev-server&quot;: &quot;^3.11.2&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>用以上的webpack的相關套件的版本是可以成功運行webpack-dev-server的喔~~</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%B0%88%E6%A1%88%E9%83%A8%E5%B1%AC%E5%B7%A5%E5%85%B7/" rel="tag"># 專案部屬工具</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/13/%E8%AA%8D%E8%AD%98webpack/" rel="prev" title="認識webpack">
      <i class="fa fa-chevron-left"></i> 認識webpack
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/04/14/gulp%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%B4%B9/" rel="next" title="gulp基本介紹">
      gulp基本介紹 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#webpack%E5%B0%88%E6%A1%88%E5%89%B5%E5%BB%BA%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%A9%9F"><span class="nav-number">1.</span> <span class="nav-text">webpack專案創建操作步驟</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%80%93save-dev"><span class="nav-number">1.1.</span> <span class="nav-text">–save-dev</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8src%E8%B3%87%E6%96%99%E5%A4%BE%E7%94%A2%E5%87%BAindex-html"><span class="nav-number">1.2.</span> <span class="nav-text">在src資料夾產出index.html</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9Ecss-loader%E7%9A%84%E9%83%A8%E5%88%86"><span class="nav-number">1.3.</span> <span class="nav-text">新增css loader的部分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%B8%BD%E7%B5%90"><span class="nav-number">1.4.</span> <span class="nav-text">小總結</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HMR-gt-webpack-dev-server"><span class="nav-number">1.5.</span> <span class="nav-text">HMR -&gt; webpack-dev-server</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8webpack-dev-server%E7%9A%84%E5%B0%8F%E6%8F%92%E6%9B%B2-Cant-find-module%E9%8C%AF%E8%AA%A4"><span class="nav-number">1.6.</span> <span class="nav-text">使用webpack dev-server的小插曲 - Cant find module錯誤</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Landy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">164</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Landy</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
